---

  - name: TEST | run nvm command with explicit default set
    shell: "{{ user_shell.executable + ' ' + user_shell.flags + ' \"nvm exec default node --version\"' }}"
    register: explicit_default

  - name: TEST | run nvm command with generic alias | default set
    shell: "{{ user_shell.executable + ' ' + user_shell.flags + ' \"nvm exec 8.16.0 node --version\"' }}"
    register: generic_alias

  - name: TEST | test that default versions are set
    assert:
      that:
        - "'v12.13.0' in explicit_default.stdout"
        - "'v8.16.0' in generic_alias.stdout"
